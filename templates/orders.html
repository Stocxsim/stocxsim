{% extends "base.html" %}

{% block title %}Orders - Stocxsim{% endblock %}

{% block css %}
<link rel="stylesheet" href="/static/css/orders.css">
{% endblock %}

{% block content %}
<div class="container-fluid orders-container">

    <!-- Filters -->
    <div class="filters rounded">
        <div class="filter-accent-bar"></div>
        <div class="filter-header">
            <h6 class="filter-title"><i class="bi bi-funnel"></i> Filters</h6>
            <a id="clearFilters" href="#" class="filter-clear">Clear all</a>
        </div>

        <div class="filter-section">
            <label class="filter-section-label" for="orderSearchInput">Search</label>
            <div class="filter-search-wrap">
                <i class="bi bi-search filter-search-icon"></i>
                <input type="text" id="orderSearchInput" class="form-control filter-search-input"
                    placeholder="Search for a stock…" autocomplete="off">
                <div id="orderSearchResults" class="order-search-results" style="display: none;"></div>
            </div>
        </div>

        <div class="filter-section">
            <label class="filter-section-label">Date Range</label>
            <div class="date-range d-flex gap-2">
                <div class="date-box">
                    <label class="form-label mb-1" for="fromDate">From</label>
                    <input type="date" class="form-control" id="fromDate">
                </div>
                <div class="date-box">
                    <label class="form-label mb-1" for="toDate">To</label>
                    <input type="date" class="form-control" id="toDate">
                </div>
            </div>
        </div>

        <div class="filter-section">
            <label class="filter-section-label">Transaction Type</label>
            <div class="filter-toggles">
                <label class="filter-toggle-pill buy">
                    <input type="checkbox" id="buyOrders">
                    <span><i class="bi bi-arrow-up-right"></i> Buy</span>
                </label>
                <label class="filter-toggle-pill sell">
                    <input type="checkbox" id="sellOrders">
                    <span><i class="bi bi-arrow-down-left"></i> Sell</span>
                </label>
            </div>
        </div>
    </div>

    <!-- Orders List -->
    <div class="orders-list-wrap">
        <div class="orders-list-header">
            <h5 class="orders-title">Orders</h5>
            <span class="orders-count-badge" id="orders-count">0</span>
        </div>
        <div class="orders-list" id="orders-body">
            <div class="orders-loading">
                <div class="loading-spinner"></div>
                <span>Loading orders…</span>
            </div>
        </div>
    </div>
</div>
{% endblock %}


{% block js %}
<script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
<script src="/static/js/order.js"></script>
{% endblock %}