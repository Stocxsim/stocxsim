{% extends "base.html" %}

{% block title %}Holdings - Stocxsim{% endblock %}

{% block css %}
<link rel="stylesheet" href="/static/css/holding.css">
{% endblock %}

{% block content %}

<div class="container-fluid px-3">
  <div class="row gx-3">

    <!-- LEFT -->
    <div class="col-lg-12">

      <!-- Page Header -->
      <div class="holdings-header">
        <span class="title">Holdings</span>
        <span class="holdings-count-badge" id="holdings-count">0</span>
      </div>

      <!-- Summary Card with gradient accent -->
      <div class="holdings-summary-card">
        <div class="summary-accent-bar"></div>

        <div class="summary-hero">
          <div class="summary-hero-left">
            <p class="summary-label">Current value</p>
            <h2 class="summary-value" id="total-current">₹0.00</h2>
          </div>
          <div class="summary-hero-pill" id="total-returns-pill">
            <i class="bi bi-arrow-up-right"></i>
            <span id="total-returns-pill-text">0.00%</span>
          </div>
        </div>

        <div class="summary-metrics">
          <div class="summary-metric-card" id="metric-invested">
            <div class="metric-icon">
              <i class="bi bi-wallet2"></i>
            </div>
            <div class="metric-content">
              <p class="summary-label">Invested value</p>
              <div class="summary-metric-value" id="total-invested">₹0.00</div>
            </div>
          </div>
          <div class="summary-metric-card" id="metric-1d">
            <div class="metric-icon">
              <i class="bi bi-clock-history"></i>
            </div>
            <div class="metric-content">
              <p class="summary-label">1D returns</p>
              <div class="summary-metric-value" id="one-day-returns">₹0.00 (0.00%)</div>
            </div>
          </div>
          <div class="summary-metric-card" id="metric-total">
            <div class="metric-icon">
              <i class="bi bi-graph-up-arrow"></i>
            </div>
            <div class="metric-content">
              <p class="summary-label">Total returns</p>
              <div class="summary-metric-value" id="total-returns">₹0.00 (0.00%)</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Holdings Table Card -->
      <div class="holdings-card">
        <div class="table-header">
          <span>Company</span>
          <span>Market price (1D%)</span>
          <span>Returns</span>
          <span>Current (Invested)</span>
        </div>
        <div id="holding-body">
          <div class="holding-loading">
            <div class="loading-spinner"></div>
            <span>Loading holdings…</span>
          </div>
        </div>
      </div>

    </div>

  </div>
</div>

{% endblock %}

{% block js %}
<script src="/static/js/holding.js"></script>
{% endblock %}